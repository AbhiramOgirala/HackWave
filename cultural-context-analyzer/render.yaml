services:
  - type: web
    name: cultural-context-analyzer-api
    env: docker
    # Paths are relative to the repository root where this render.yaml sits.
    # Use ./backend (not ./cultural-context-analyzer/backend) so Render can find the Dockerfile and context.
    dockerfilePath: ./backend/Dockerfile
    dockerContext: ./backend
    plan: free
    # Backend exposes the health endpoint at /api/health
    healthCheckPath: /api/health
    envVars:
      - key: GEMINI_API_KEY
        sync: false
      - key: SUPABASE_URL
        sync: false
      - key: SUPABASE_ANON_KEY
        sync: false
      - key: PYTHON_VERSION
        value: 3.11.0
